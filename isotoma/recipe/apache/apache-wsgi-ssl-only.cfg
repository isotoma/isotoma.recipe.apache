# vim: syntax=apache:

#if $getVar('namevirtualhost', None)
NameVirtualHost $interface:$http_port
NameVirtualHost $interface:$https_port
#end if

<VirtualHost $interface:$https_port>
    ServerName $sitename
    ServerAdmin $serveradmin
    CustomLog /var/log/apache2/${sitename}-access.log combined
    ErrorLog /var/log/apache2/${sitename}-error.log

#if $daemon
    WSGIDaemonProcess $processgroup user=$user group=$group processes=$processes threads=$threads
    WSGIProcessGroup $processgroup
#end if

    #for alias in $aliases
    Alias $alias['location'] $alias['path']
    #end for

    WSGIScriptAlias / $wsgi

    SSLEngine on
    SSLCertificateFile ${sslcert}
    SSLCertificateKeyFile ${sslkey}
    #for $a in $sslca
    SSLCACertificateFile ${a}
    #end for


</VirtualHost>

